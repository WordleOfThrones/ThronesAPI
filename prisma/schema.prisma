generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Usuarios {
  userId    Int       @id @default(autoincrement())
  nameUser  String    @db.VarChar(100)
  nickname  String    @unique @db.VarChar(30)
  email     String    @unique @db.VarChar(100)
  password  String    @db.VarChar(255)
  lastLogin DateTime?
  recorde   Decimal?  @db.Decimal(10, 2)
  status    Int       @default(1)
  isAdmin   Boolean   @default(false)
  jogos     Jogos[]
}

model Personagens {
  idPersonagem     Int     @id @default(autoincrement())
  nome             String  @db.VarChar(45)
  descricao        String  @db.VarChar(2000)
  casa             String  @db.VarChar(100)
  genero           String  @db.Char(30)
  raca             String  @db.VarChar(45)
  titulo           String  @db.VarChar(500)
  origem           String  @db.VarChar(100)
  religiao         String  @db.VarChar(100)
  serie            String  @db.VarChar(45)
  primeiraAparicao String  @db.VarChar(11)
  imagem           String  @db.VarChar(300)
  datas            Datas[]
}

model Jogos {
  idJogo        Int      @id @default(autoincrement())
  idModoJogo    Int
  idUser        Int
  qtdTentativas Int
  tempo         Int
  status        Int      @default(0)
  pontuacaoDia  Decimal  @db.Decimal(10, 2)
  data          DateTime
  modoJogo      ModosJogo @relation(fields: [idModoJogo], references: [idModo])
  usuario       Usuarios @relation(fields: [idUser], references: [userId])
}

model ModosJogo {
  idModo   Int     @id @default(autoincrement())
  nomeModo String  @db.VarChar(45) @unique
  datas    Datas[]
  jogos    Jogos[]
}

model Datas {
  idData       Int         @id @default(autoincrement())
  idModoJogo   Int
  idPersonagem Int
  data         DateTime    @db.Date
  modoJogo     ModosJogo   @relation(fields: [idModoJogo], references: [idModo])
  personagem   Personagens @relation(fields: [idPersonagem], references: [idPersonagem])
}